# 🌐 공개 URL 만들기 - 처음부터 단계별 가이드

## ✅ 체크리스트
각 단계를 완료할 때마다 체크하세요!

- [ ] 1단계: 서버 실행 확인
- [ ] 2단계: 로컬 접속 확인
- [ ] 3단계: ngrok 설치 확인
- [ ] 4단계: ngrok 실행 확인
- [ ] 5단계: 공개 URL 접속 확인
- [ ] 6단계: bit.ly 단축

---

## 1단계: 서버 실행하기

### 1-1. 프로젝트 폴더로 이동

**PowerShell 또는 명령 프롬프트 열기:**
- Windows 키 + R → `powershell` 입력 → Enter
- 또는 시작 메뉴에서 "PowerShell" 검색

**프로젝트 폴더로 이동:**
```powershell
cd C:\dev\kairos-ai-prototype
```

### 1-2. 서버 실행

```powershell
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 1-3. 정상 실행 확인

다음과 같은 메시지가 보이면 성공:
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

**⚠️ 이 터미널 창은 그대로 두세요! (닫지 마세요)**

---

## 2단계: 로컬 접속 테스트

### 2-1. 브라우저 열기

Chrome, Edge, Firefox 등 아무 브라우저나 열기

### 2-2. 로컬 주소로 접속

주소창에 입력:
```
http://localhost:8000
```

또는
```
http://127.0.0.1:8000
```

### 2-3. 화면 확인

**정상 작동하면:**
- KAIROS AI 시황 분석 화면이 보여야 합니다
- 종목 선택 드롭다운이 보여야 합니다

**안 보이면:**
- 서버가 실행 중인지 확인 (1단계로 돌아가기)
- 에러 메시지 확인
- 방화벽 설정 확인

---

## 3단계: ngrok 설치하기

### 3-1. ngrok 다운로드

1. 브라우저에서 https://ngrok.com/download 접속
2. "Download for Windows" 버튼 클릭
3. ZIP 파일 다운로드 (예: `ngrok-v3-stable-windows-amd64.zip`)

### 3-2. 압축 해제

1. 다운로드한 ZIP 파일 찾기
2. 우클릭 → "압축 풀기" 또는 "Extract All"
3. 압축 해제된 폴더 확인 (예: `ngrok-v3-stable-windows-amd64`)

### 3-3. ngrok 계정 생성

1. https://dashboard.ngrok.com/signup 접속
2. 이메일로 무료 계정 생성
3. 이메일 인증 완료

### 3-4. 인증 토큰 받기

1. https://dashboard.ngrok.com/get-started/your-authtoken 접속
2. 표시된 토큰 복사 (예: `2abc123def456ghi789jkl012mno345pq`)

### 3-5. ngrok 인증 설정

**새 PowerShell 창 열기** (서버 실행 중인 창은 그대로 두고)

1. 파일 탐색기에서 ngrok.exe가 있는 폴더 열기
   - 예: `C:\Users\본인계정\Downloads\ngrok-v3-stable-windows-amd64`
2. 주소창에 `powershell` 입력하고 Enter
3. 다음 명령어 입력 (YOUR_TOKEN을 복사한 토큰으로 교체):
   ```
   .\ngrok.exe config add-authtoken YOUR_TOKEN
   ```
   예시:
   ```
   .\ngrok.exe config add-authtoken 2abc123def456ghi789jkl012mno345pq
   ```
4. "Authtoken saved" 메시지가 나오면 성공

---

## 4단계: ngrok 실행하기

### 4-1. ngrok 실행

**ngrok.exe가 있는 폴더에서 PowerShell 열기** (3-5와 같은 방법)

다음 명령어 입력:
```
.\ngrok.exe http 8000
```

### 4-2. ngrok 화면 확인

다음과 같은 화면이 나타나야 합니다:

```
ngrok

Session Status                online
Account                       Your Name (Plan: Free)
Version                       3.x.x
Region                        United States (us)
Latency                       -
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://xxxx-xx-xx-xx-xx.ngrok-free.app -> http://localhost:8000

Connections                   ttl     opn     rt1     rt5     p50     p90
                              0       0       0.00    0.00    0.00    0.00
```

**중요:** `Forwarding` 줄의 URL을 복사하세요!
- 예: `https://xxxx-xx-xx-xx-xx.ngrok-free.app`

**⚠️ 이 터미널 창도 그대로 두세요!**

---

## 5단계: 공개 URL 접속 테스트

### 5-1. 새 브라우저 창 열기

또는 시크릿/프라이빗 모드로 열기

### 5-2. ngrok URL로 접속

주소창에 복사한 ngrok URL 입력:
```
https://xxxx-xx-xx-xx-xx.ngrok-free.app
```

### 5-3. 화면 확인

**정상 작동하면:**
- KAIROS AI 시황 분석 화면이 보여야 합니다
- 로컬 접속과 동일한 화면이어야 합니다

**안 보이면:**
- ngrok이 실행 중인지 확인 (4단계)
- 서버가 실행 중인지 확인 (1단계)
- ngrok 화면에서 에러 메시지 확인

---

## 6단계: bit.ly로 단축하기

### 6-1. bit.ly 접속

1. https://bit.ly 접속
2. 로그인 (없으면 무료 회원가입)

### 6-2. URL 단축

1. 우측 상단 "Create" 또는 "Shorten" 버튼 클릭
2. "Paste your link here" 또는 "Enter a long URL"에 ngrok URL 붙여넣기:
   ```
   https://xxxx-xx-xx-xx-xx.ngrok-free.app
   ```
3. (선택) "Custom back-half" 또는 "Customize"에 원하는 이름 입력:
   - 예: `kairos-ai`
   - 결과: `bit.ly/kairos-ai`
4. "Create" 또는 "Shorten" 버튼 클릭

### 6-3. 단축 URL 확인

생성된 단축 URL을 복사하세요!
- 예: `bit.ly/kairos-ai`

---

## ✅ 완료!

이제 `bit.ly/kairos-ai` 같은 URL을 어디서든 공유할 수 있습니다!

---

## ❓ 문제 해결

### 문제 1: 서버가 실행되지 않음

**에러 메시지 확인:**
- `ModuleNotFoundError`: `pip install -r requirements.txt` 실행
- `포트 8000이 이미 사용 중`: 다른 포트 사용 (예: `--port 8001`)

### 문제 2: localhost:8000 접속 안 됨

- 서버가 실행 중인지 확인
- 방화벽 설정 확인
- 다른 브라우저로 시도

### 문제 3: ngrok 실행 안 됨

- ngrok.exe 파일이 있는지 확인
- 인증 토큰이 설정되었는지 확인: `ngrok config check`
- 파일 탐색기에서 ngrok.exe 더블클릭해서 실행해보기

### 문제 4: ngrok URL 접속 안 됨

- ngrok이 실행 중인지 확인
- 서버가 실행 중인지 확인
- ngrok 화면에서 에러 메시지 확인
- 브라우저에서 "고급" → "안전하지 않음으로 이동" 클릭 (경고 화면이 나올 경우)

### 문제 5: bit.ly 단축 안 됨

- ngrok URL이 정상 작동하는지 먼저 확인 (5단계)
- URL 형식 확인 (https://로 시작해야 함)
- bit.ly에서 에러 메시지 확인

---

## 📞 어느 단계에서 막혔나요?

각 단계를 완료할 때마다 체크하고, 막힌 단계를 알려주세요!

